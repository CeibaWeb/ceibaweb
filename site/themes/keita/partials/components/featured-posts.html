<div class="bg-cover bg-center h-fi" style="height: 60%; background-image: url('https://i1.wp.com/www.spencerboegeman.com/wp-content/uploads/2016/08/Golden-Souvenance-Sep.-2013.jpg');"></div>
<section id="featured-posts-bar" style="height: 15%;"class="flex flex-row bg-fade-white">
    {{ collection:blog limit="4" }}
        <div class="h-auto w-1/3 flex flex-column items-center hover:bg-{{ partial:color }}" @mouseenter="toggleHover" @mouseleave="leave">
            <div class="flex flex-column flex-wrap justify-center pl-3 ml-2 border-l-2 border-{{ partial:color }}">
                {{ categories }}
                    {{ if first }}
                        <span class="w-full text-xs font-light tk-paralucent uppercase"><a class="no-underline text-{{color}}" href="{{ url }}">{{ title }}</a></span>
                    {{ /if }}
                {{ /categories }}
                <h3 class="w-full font-medium text-2xl px-auto tk-paralucent"><a class="no-underline text-black hover:text-white" href="{{ url }}">{{ title }}</a></h1>
                <span></span>
            </div>
        </div>
    {{ /collection:blog }}  
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.2/vue.min.js"></script>
<script>
new Vue({
    el: "#featured-posts-bar",
    data: {
        poppedClasses: [],
    },
    methods: {
        toggleHover: function(event) {
            const links = event.target.querySelectorAll('a');

            links.forEach(this.saveClasses);
        },

        leave: function(event) {
           const links = event.target.querySelectorAll('a');
           
           links.forEach(this.removeClasses)

           this.poppedClasses = [];
        }, 

        saveClasses: function(link) {
            const href = link.href,
            classList = link.classList;
            //console.log(classList);

            for (let rule of classList) {
                if (rule.includes('text')) {
                    classList.remove(rule)
                    this.poppedClasses.push({
                        [href]: rule
                    });
                }
            }

            classList.add('text-white');
        },

        removeClasses: function(link) {
           const list = link.classList;

           list.remove('text-white');
           for (let poppedClass of this.poppedClasses) {
               if (poppedClass.hasOwnProperty(link.href)) {
                   list.add(poppedClass[link.href]);
               }
           }
        }
    },
    created: function() {
    }
});
</script>